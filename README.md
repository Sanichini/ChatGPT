# Market Domination War Room

This repository contains a working package for a **Market Domination War Room** designed to help a new smartphone brand enter Thailand’s mass‑market segment (THB 5 000–15 000). It includes tools for live data collection, analytics dashboards, predictive modelling, campaign ideation, automated monitoring and strategic planning.

## Project structure

```
war_room/
├── bot/                # Telegram alert bot
│   └── telegram_bot.py
├── campaigns/          # Creative campaign factory outputs
│   └── creative_campaigns.md
├── dashboard/          # Interactive HTML dashboard
│   └── index.html
├── data/               # Data output (CSV and SQLite DB generated by scraper)
├── exec_plan/          # Go‑to‑market strategy and investor pitch
│   ├── battle_plan.md
│   ├── generate_pitch.py
│   └── investor_pitch.pptx
├── model/              # Predictive modelling
│   └── train_model.py
├── scraper/            # Live scraping engine
│   └── scrape_engine.py
└── README.md           # This file
```

## Setup

1. **Install dependencies**

   ```bash
   # Create a virtual environment (optional)
   python3 -m venv venv
   source venv/bin/activate
   # Install required Python packages
   pip install -r requirements.txt
   ```

2. **Environment variables** (for Telegram alerts):

   Set the following variables in your environment or `.env` file:

   - `TELEGRAM_BOT_TOKEN` – your Telegram bot API token.
   - `TELEGRAM_CHAT_ID` – the chat ID to send alerts to.
   - `PRODUCT_DB_PATH` (optional) – path to the SQLite database (defaults to `./data/products.db`).

3. **Scrape data**

   Use the scraper to collect real‑time price/spec data. Example:

   ```bash
   python war_room/scraper/scrape_engine.py "Xiaomi Redmi Note 13" "Samsung A15" --db war_room/data/products.db --csv war_room/data/products.csv --limit 20
   ```

   The script will query Shopee, Lazada and JD Central for each keyword, save results to CSV and insert them into the SQLite DB. It automatically creates tables if they don’t exist.

4. **Detect price anomalies**

   You can run anomaly detection directly:

   ```python
   from scraper.scrape_engine import detect_price_anomalies
   anomalies = detect_price_anomalies('war_room/data/products.db', window=5, threshold_pct=0.05)
   print(anomalies)
   ```

5. **Run the predictive model**

   Train a forecasting model and derive optimal launch timing and price for a specific brand/model:

   ```bash
   python war_room/model/train_model.py --csv war_room/data/products.csv --brand Xiaomi --model "Redmi Note 13" --competitor_brands Samsung Oppo Vivo
   ```

   Outputs a forecast CSV in `war_room/model_output/` and prints insights (optimal launch date and price) to the console.

6. **Launch the interactive dashboard**

   Open `war_room/dashboard/index.html` in a browser. The dashboard reads its data from `dashboard/data/products.csv` (a copy of the CSV from the top‑level `data` folder) and displays:

   - **Market Share Pulse** – line chart of listings per brand by hour.
   - **Price War Heatmap** – heatmap of model prices across marketplaces.
   - **Feature Gap Analyzer** – grouped bar chart analysing RAM/storage/battery distribution.

   Use the filters at the top to focus on specific brands, marketplaces or price ceilings.

   **Deploying to Vercel:**

   A `vercel.json` file is provided at the root of this repository. It rewrites all requests to the `dashboard` directory so that `index.html` and its associated data are served correctly. To deploy the dashboard as a static site on Vercel:

   1. Push this repository to GitHub.
   2. Create a new project on Vercel and import the repository.
   3. For a static deployment, you don’t need a build command – Vercel will respect `vercel.json` and serve `/dashboard/index.html` at the site root.
   4. Ensure that `dashboard/data/products.csv` exists (this repository copies the CSV there by default) so the dashboard can load data when deployed.

7. **Run the Telegram bot**

   Launch the alert bot to monitor price changes and new listings:

   ```bash
   python war_room/bot/telegram_bot.py
   ```

   The bot wakes every 10 minutes, checks for price drops >5 %, detects newly listed products and (when integrated) monitors negative sentiment on social media. Alerts are sent to the configured Telegram chat.

8. **Review the battle plan and campaigns**

   - `war_room/exec_plan/battle_plan.md` details the one‑page go‑to‑market strategy with budget allocation and success metrics.
   - `war_room/campaigns/creative_campaigns.md` provides three complete campaign concepts with AIDA‑style ad copy, visual mock‑up descriptions, influencer recommendations and USPs.

9. **Investor pitch deck**

   The file `war_room/exec_plan/investor_pitch.pptx` contains a three‑slide pitch summarising market landscape, product strategy and financial projections. You can regenerate it by running `python war_room/exec_plan/generate_pitch.py`.

## Docker usage (optional)

To run the entire system in isolation, you may build a Docker image. The following command will build and run the environment:

```bash
docker build -t war-room .
docker run --rm -it -p 8000:8000 -e TELEGRAM_BOT_TOKEN=<token> -e TELEGRAM_CHAT_ID=<chat_id> war-room
```

You should mount volumes or copy the data directory to persist scraped data. See `Dockerfile` (if provided) for more details.

## Notes

* The scraping functions rely on publicly accessible endpoints and may need adjustments if site structures change. Respect the sites’ terms of service.
* Sentiment tracking in `telegram_bot.py` is a placeholder. Integrate Twitter/Facebook APIs and natural‑language processing libraries for production use.
* All monetary amounts are denominated in Thai Baht (THB).
